# iOS 内存相关  
## iOS 内存管理机制  
Object-C 在iOS中不支持GC机制，而是采用引用计数的方式管理内存  
> 引用计数(Reference Count):  
> 在引用计数中，每一个对象负责维护对象所有引用的计数值。当一个新的引用指向对象时，引用计数就递增，当去掉一个引用时，引用计数就递减。当引用计数到0时，改对象就将释放占有的资源  

### MRC(Manual Reference Counting)中引起引用计数变化的方法  

Object-C对象方法              | 说明
---------------------------- | ----
alloc/new/copy/multableCopy  | 创建对象，引用数 +1
-----------------------------| ---------------
retain                       | 引用计数 +1
---------------------------- | ----------------
release                      | 引用计数 -1
---------------------------- | ------------
dealloc                      | 当引用计数位0时调用  
---------------------------- | --------------
[NSArray array]              | 引用数不增加，由自动释放池管理
---------------------------- | ---------------
[NSDictionary dictionary]    | 引用数不增加，由自动释放池管理

### ARC(Automatic Reference Counting)中的内存管理  

Objective-C 对象所有权修饰符  | 说明   
----------------------------- | ----------
__strong                      | 对象默认修饰符，对象强引用，在对象超出作用域时失效，其实就相当于retain操作，超出作用域时执行release操作  
----------------------------- | -----------
__weak                        | 弱引用，不持有对象，对象释放时会将对象置nil
----------------------------- | ------------
__unsafe_unretained           | 弱引用，不持有对象，对象释放时不会将对象置nil  
----------------------------- | -------------
__autoreleasing               | 自动释放，自动释放池管理对象  

